<config>
{
  "name": "Python Demo Plugin",
  "type": "native-python",
  "version": "0.1.0",
  "api_version": "0.1.2",
  "createdAt": "Mon Jun 26 2018 15:45:30",
  "description": "A plugin for demonstrating python plugin.",
  "tags": [],
  "ui": "run python plugin",
  "inputs": null,
  "outputs": null,
  "icon": "local_florist",
  "env": null,
  "requirements": ["numpy"],
  "cmd": "python",
  "dependencies": []
}
</config>

<script lang="python">
import numpy as np

class ImJoyPlugin():
  def setup(self):
    self.count = 0

    api.register({
      "name": "op with option",
      "tags": ["demo", "op"],
      "inputs": None,
      "outputs": None,
      "ui": "select {id:'op_option', type:'choose', options:['option1', 'option2'], placeholder: 'option1'}",
    })
    print('initialized from python')

  def run(self, my):
    # print(my._variables)
    if my._op == 'op with option':
      print('run python_op: ' + my.config.op_option)
    else:
      print('hello world: ' + str(self.count))
    self.count += 1
    return np.zeros(10) + self.count

api.export(ImJoyPlugin())
</script>
